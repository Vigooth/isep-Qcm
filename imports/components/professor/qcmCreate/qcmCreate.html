<header>
    <h1>Créer votre Qcm</h1>
</header>
<form ng-submit="addQuestion()" class="" >
    <input ng-model="$ctrl.text" placeholder="Type to add new questions">
</form>
<ol>
    <li ng-repeat="question in $ctrl.questions">
        {{question.text}}?
        <button class="delete" ng-click="removeQuestion()">&times;</button>
        <!--Add additional indication to the question-->
        <button type="button" ng-click="getTextIndicatif()" class="btn btn-info btn-lg" data-toggle="modal" data-target="#modal{{question.id}}">Ajouter une aide</button>
        <div id="modal{{question.id}}" class="modal fade" role="dialog">
            <div class="modal-dialog ">
                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Ajouter une indication de réponse :</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <textarea  ng-model="$ctrl.textIndicatif"  class="form-control" rows="5" ></textarea>

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default"   data-dismiss="modal">Annuler</button>
                        <button ng-click="addIndication()" type="button" class="btn btn-default" data-dismiss="modal">Valider</button>
                    </div>
                </div>
            </div>
        </div>

        <!--Add answers-->
        <form ng-submit="insertAnswer(question)">
            <input ng-model="$ctrl.answer" placeholder="Type to add new answers">
        </form>

        <!--Find all answers,
         #If he answer is related to the question return true
         #If a answer is true then it's highlight
         #On click set the status of the answer-->
        <ul>
            <li ng-repeat="answer in $ctrl.answers" ng-if="answer.question_id===question._id" ng-click="setStatus()" ng-class="isAnswerTrue()">
                {{answer.text}} ?
                <button class="delete" ng-click="removeAnswer()">&times;</button>
            </li>
        </ul><br>

    </li>
</ol>

